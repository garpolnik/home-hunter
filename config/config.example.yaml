# Home Deal Finder Configuration
# Copy this file to config.yaml and customize for your search.

# Search parameters
search:
  locations:
    - type: zip
      value: "08002"       # Cherry Hill, NJ
    - type: zip
      value: "08003"       # Cherry Hill, NJ
    - type: city
      value: "Haddonfield"
      state: "NJ"

  filters:
    min_price: 250000
    max_price: 550000
    min_beds: 3
    max_beds: 5
    min_baths: 2.0
    property_types:
      - single_family
      - townhouse
    min_sqft: 1500
    min_year_built: 1960
    exclude_hoa_over: 400
    # Dynamic listing age: hide listings older than (area median DOM * multiplier).
    # In a hot market with 15-day median, 4x = 60 days max.
    # In a slow market with 60-day median, 4x = 240 days max.
    max_dom_multiplier: 4.0
    # Absolute cap - never show listings older than this (days)
    max_dom_absolute: 365

# Data sources
sources:
  redfin:
    enabled: true
    max_results_per_location: 350
    request_delay_seconds: 3
  realtor:
    enabled: true
    max_results_per_location: 200
    request_delay_seconds: 1
  zillow:
    enabled: false

# Enrichment APIs
enrichment:
  walkscore:
    enabled: true
    # Set WALKSCORE_API_KEY env var
  flood_zone:
    enabled: true
  commute:
    enabled: true
    targets:
      - name: "Office"
        address: "1600 Market St, Philadelphia, PA"

# Deal scoring â€” powered by Claude AI
# Set ANTHROPIC_API_KEY env var to enable AI scoring.
# Without the key, all listings receive a default score of 50.
scoring:
  # Claude model to use for scoring (claude-haiku-4-5-20251001 recommended for cost efficiency)
  claude_model: "claude-haiku-4-5-20251001"
  top_deal_threshold: 70

# Newsletter
newsletter:
  recipients:
    - "you@example.com"
  from_email: "deals@yourdomain.com"    # Must match SMTP_USER in .env
  from_name: "Home Deal Finder"
  subject_template: "Home Deal Finder: {new_count} New Listings - {month} {year}"
  max_listings_in_email: 30
  sections:
    - name: "Top Deals"
      filter: "deal_score >= 70"
      sort: "-deal_score"
      limit: 10
    - name: "New This Month"
      filter: "is_new == True"
      sort: "-deal_score"
      limit: 15
    - name: "Price Drops"
      filter: "has_price_reduction == True"
      sort: "-reduction_pct"
      limit: 10

# Database
database:
  path: "data/listings.db"
